<!DOCTYPE html>
<html>

<head>
    <meta charset=”UTF-8">
    <title>인덱스 페이지</title>
    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


        // Firebase 구성 정보 설정
        const firebaseConfig = {
            apiKey: "AIzaSyCJ62-bLXui1fq8_frLqPImfe1WY8aulYQ",
            authDomain: "calmgram-c36a4.firebaseapp.com",
            projectId: "calmgram-c36a4",
            storageBucket: "calmgram-c36a4.appspot.com",
            messagingSenderId: "280454701698",
            appId: "1:280454701698:web:e039d213c5512478beca9b",
            measurementId: "G-NBXDXWBV4N"
        };


        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="http://ipinfo.io/?format=jsonp&callback=getIP"></script>
    <script>
        let userIp;
        First_Run();

        function First_Run() {
            try {
                fetch(url).then(res => res.json()).then(data => {
                    let a = data['ip'];
                    $(".d").text(a);
                    userIp = a
                    console.log(a);
                    console.log("실행됨");
                })
            }
            catch { $(".d").text("0.0.0.0"); }
        }
    </script>

<script type="application/javascript">
    document.addEventListener("DOMContentLoaded", First_Run()
    );
</script>

</head>

<body>

    <p class="d">하이요</p>
</body>

</html>